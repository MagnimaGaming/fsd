// server.js
const { MongoClient } = require("mongodb");
const url = "mongodb://localhost:27017/";
const client = new MongoClient(url);

async function main() {
  try {
    await client.connect();
    console.log("✅ Connected to MongoDB!");

    const db = client.db("studentDB");

    // 1️⃣ Create collection
    await db.createCollection("students");
    console.log("✅ Collection created!");

    // 2️⃣ Insert data
    await db.collection("students").insertOne({
      name: "Cheerla Shamith",
      course: "B.Tech CSE",
      cgpa: 9.7
    });
    console.log("✅ Data inserted!");

    // 3️⃣ Drop collection
    await db.collection("students").drop();
    console.log("✅ Collection dropped!");

    // 4️⃣ Drop database
    await db.dropDatabase();
    console.log("✅ Database dropped!");
  } catch (err) {
    console.error(err);
  } finally {
    await client.close();
  }
}

main();
